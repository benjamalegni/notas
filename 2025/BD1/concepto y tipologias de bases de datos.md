### intro a DB's
- un sistema gestor de bases de datos (SGBD) consiste en una coleccion de datos interrelacionados y un conjunto de programas para acceder a dichos datos. la coleccion de datos, normalmente denominada base de datos, contiene info relevante para una empresa. El objetivo principal de este es proporcionar una forma de almacenar y recuperar la informacion de una base de datos de manera que sea tanto practiva como eficiente

la gestion de los datos implica tanto ==la definicion de estructurads para almacenar la info como la provision de mecanismos para la manipulacion de la info==. ademas, los sistemas de bases de datos deben proporcionar la **fiabiliadad** de la info almacenada, a pesar de las caidas del sistema o los intentos de accesos sin autorizacion. si los datos van a ser compartidos entre diversos usuarios, el sistema debe evitar posibles resultados anomalos

## aplicacion de los sistemas de DB
los sistemas de bases tienen amplia gama de aplicaciones en diversos sectores
- aplicaciones empresariales
	- sistema de gestion de clientes (CRM) utilizados por empresas y gestionar info sobre clientes mejorar el servicio y personalizar las interacciones
	- sistema de gestion de recursos humanos(HRMS) bases de datos que almacenan info de empleados, desde datos personales hasta registros de salarios, vacaciones y evaluaciones de desempeno
	- ERP (enterprise resource planning) integran diversos procesos empresariales como la contabilidad, finanzas, compras y produccion en una sola plataforma que depende de una base de datos centralizada
- e-commerce
	- gestion de inventario: rastrear productos, stock, proveedores y ventas
	- personalizacion de la experiencia del usuario: se almacenan datos sobre el comportamiento y preferencias de los usuarios para ofrecer recomendaciones personalizadas
- sector salud
	- historiales clinicos electronicos (EHR): almacenan info medica de pacientes, diagnosticos, tratamientos, prescripciones y resultados de laboratorio
	- gestion de hospitales: info sobre camas, personal, pacientes y recursos medicos
- etc...


# sistemas de archivos convencionales vs bases de datos
1. r**edundancia e inconsistencia de datos:** programadores pueden crear archivos con formatos distintos, generando duplicaion de info y posibles inconsistencias, como cambios no reflejados en todos los archivos
2. **dificultad en el acceso a los datos**: si surgen nuevas necesidades es necesario crear un nuevo programa o hacerlo manualmente, lo cual es ineficiente
3. **aislamiento de datos** : datos dispersos en varios archivos dificultan la creacion de nuevos programas
4. **problemas de integridad**: las restricciones de consistencia son dificiles de mantenes cuando se deben modificar multiples programas
5. **problemas de atomicidad**: en caso de fallo se corre el riesgo de que los datos queden en un estado inconsciente
6. **anomalias en acceso concurrente**: si varios usuarios actualizan los datos simultaneamente, pueden producirse inconsistencias como un saldo incorrecto en la cuenta por ej
7. **problemas de seguridad**: es dificil controlar que usuarios tienen acceso a que informacion y eso puede comprometer la seguridad

estos probleamas motivaron el desarrollo de gestion de base de datos (SGBD) que resuelven estas dificultades proporcionando una mejor gestion de datos en terminos de **acceso, integridad, atomicidad, seguridad y concurrencia**

## abstraccion de datos
en sistema de bases de datos es una coleccion de archivos interrelacionados y un conjunto de programas que permiten a los usuarios acceder y modificar estos archivos. Uno de los propositos principales de estos es proporcionar a los usuarios una **vision abstracta de los datos, osea que el sistema esconda ciertos detalles de como se almacenan y mantienen los datos**
para que el sistema sea util, se debe recuperar datos eficientemente, los desarrolladores esconden la complejidad a los usuarios a traves de varios niveles de abstraccion para simplificar la interaccion de los usuarios con los sistemas
- nivel fisico: el nivel mas bajo de abstraccion describe como se almacenan realmente los datos
- nivel logico: describe que datos se almacenan en la base y que relaciones hay entre estos. La base de datos completa se describe asi en termino sde un numero pequeno de estructuras relativamente simples. Aunque la implementacion de estructuras simples en el nivel logico puede involucrar estructuras complejas a nivel fisico, los usuarios del nivel logico no necesitan preocuparse de esta complejidad. Los admins de DB, que deben decidir la info que se mantiene en la base de datos, **usan el nivel logico de abstraccion**
- nivel de vistas: el nivel mas alto de abstraccion, describe solo parte de la DB completa. A pesar del uso de estructuras mas simples en el nivel logico, queda algo de complejidad debido a la variedad de informacion almacenada en una gran base de datos. Mucho usuarios del sistema de DB no necesitan esta info. En su lugar, solo necesitan acceder solo a una parte de esta base de datos. Para que su interaccion con el sistema se simplifique, se define la abstraccion del nivel de vistas. **el sistema puede proporcionar muchas vistas para la misma DB**
	![[Pasted image 20250512114352.png]]



## esquemas de bases de datos
las DB van cambiar a lo largo del tiempo confome la info se borrar e inserta. La coleccion de info almacenada en un momento particular se denomina un ejemplar de la DB. el diseno completo se llama esquema de la base de datos. **los esquemas completos son raramente modificardos**, (si es que lo son alguna vez). 
El concepto de esquemas y ejemplares de DB se puede entender como analogia con un programa escrito es un lenguaje de programacion. un esquema corresponde a las declaraciones de varaibles (junto con definiciones de tipos asociadas) es un programa. Cada variable tiene un valor particular en un instante de tiempo. Los valores de las variables corresponde a un ejemplar de un esquema de base de datos. Los sistemas de DB tiene varios esquemas divididos de acuerdo a los niveles de abstraccion que se han discutido. El esquema fisico describe el diseno fisico en el nivel fisico, mientras que el esquema logico describe el diseno de esta a nivel logic. Una DB puede tener varios esquemas de nivel de vistas, a menudo denominados subesquemas, que describen diferentes vistas de la DB. De estos el esquema logico, es por mucho el mas impoortante, en termino de su efecto en los programas de aplicacion, ya que los programadores construyen las aplicacione usando el esquema logico. El esquema fisico esta oculto bajo el esquema logico, y puede ser facilmente cambiado usualmente sin afectar a los programas de la aplicacion. Los programas de aplicacion se dice que muestran independencia fisica de datos si no dependen del esquema fisico y or tanto no deben ser modificados si cambia el esquema fisico. Se estudiarian los lenguajes para la descripcion de los esquemas ,despues de introducir la nocion de modelos de datos en el siguiente apartado.

## arquitectura de un SGBD
un sistema de DB se divide en modulos que se encargan de cada una de las responsabilidades del sistema completo. Los componentes funcionales de un sistema de DB se pueden dividir a grandes rasgos en los componentes gestor de almacenamiento y procesador de consultas. El gestor de consultas es importante porque las DB requieren normalmente una gran cantidad de espacio de almacenamiento. Las DB corporativas tienen un tamano de entre cientos de GB y para las mayores bases de daots, terabytes de datos. Debido a que la memoria principal de las computadoras no pueden almacenar esta cantidad de info, esto se almacena en discos. Los datos se transladan entre el disco de almacenamiento y la memoria principal cuando es necesario. Como la transferencia de datos desde el disco es lenta comparada con la velocidad de la CPU, es fundamental que el sistema de DB estructure los datos para minimizar la necesidad de movimiento de datos entre el disco y la memoria principal. El procesador de consultas es importante porque ayuda al sistema de DB a simplificar y facilitar el acceso a los datos. Las vistas de alto nivel ayudan a conseguir este objetivo. Con ellas, los usuarios del sistema no deberian ser molestados innecesariamente con los detalles fisicos de implementaciones del sistema. Sin embargo, el rapido procesamiento de las actualizaciones y de las consultas es importarte. Es trabajo del sistema de DB traducir las actualizaciones y las consultas escritas en un lenguajes no procedimental, en el nivel logico, en una secuencia de operaciones en el nivel fisico

## gestor de almacenamiento
es un modulo de programa que proporciona la interfaz entre los datos de bajo nivel en la DB y los programas de aplicacion y consultas emitidas al sistema. El gestor de almacenamiento es responsable de la interaccion con el gestor de archivos. Los datos en bruto se almacenan en disco usando un sistema de archivos, que esta disponible habitualmente en un sistema operativo convencional. El gestor de almacenamiento traduce las diferentes instrucciones a ordenes de un sistema de archivos de bajo nivel. este es responsable del almacenamiento, recuperacion y actualizacion de los datos en la DB. los componentes del gestor de almacenamiento incluyen:
- gestor de autorizaciones e integridad, comprueba que se satisfagan las restricciones de integridad y la autorizacion de usuarios para acceder a datos
- gestor de transacciones, asegura que la DB quede en estado consciente a pesar de fallos en sistema y que las ejecuciones de transacciones concurrentes ocurran sin conflictos
- gestor de archivos, gestiona la reserva de espacio de almacenamiento de disco y las estructuras de datos usadas para representar la info almacenada en disco
- gestor de memoria intermedia, responsable de traer las datos del disco de almacenamiento a memoria principal y decidir que datos tratar en memoria cache. Este es parte critica del sistema de DB, porque permite que la DB maneje tamanos mucho mayores que el tamano de la memoria principal. El gestor de almacenamiento implementa varias estructuras de datos como parte de la implementacion fisica del sistema
	- archivos de datos, almacenan datos en si
	- diccionario de datos, almacena metadatos acerca de la estructura de la DB, particularmente el esquema de la DB
	- indices, que proporcionan rapido acceso a elementos de datos que tienen valores particulares


## gestor de transacciones
la transaccion de fondos (por ejemplo) debe ocurrir por completo o no ocurrir en absoluto. Este requisito se **llama atomicidad.** Que el valor que habia en cuenta A + B se preserve **se llama consistencia**, luego de la transaccion los nuevos valores de la cuenta deben persistir, a pesar de la posibilidad de fallo del sistema **a esto se le llama durabilidad**. Asi se requiere que las transacciones no violen ninguna restriccion de consistencia de la base de datos. Es decir, si la DB era consistente cuando la transaccion, osea si la DB era consistente cuando la transaccion comenzo, debe ser consistente cuando la transaccion termine
sin embargo, durante la ejecucion de una transaccion puede ser necesario permitir inconsistencias temporalmente, ya que el cargo de A o el abono de B se debe realizar uno antes que el otro , esta inconsistencia temporal aunque necesaria puede conducir a un fallo. Es responsabilidad del programador definir adecuadamente las diferentes transacciones de manera que cada una preserve la consistencia de la DB. Esta operacion mencionada se podria definir como compuesta de dos operaciones separadas: una que carga la cuenta A y otra que abona la B, le ejecucion de estas dos operaciones uno trans otro preservara la consistencia. Pero cada operacion no transforma la DB de un estado **consistente** en otro estado **consistente**, asi estas operaciones no son transacciones porque no aseguran las propiedades **atomicidad y durabilidad** (que es responsabilidad del mismo sistema de DB), especificamente del componente de gestion de transacciones. Debido a diversos fallos, toda transaccion completada con exito y atomica se archiva facilmente. Sin embargo, debido a diversos tipos de fallos, una transaccion puede no concretarse con exito. Si se asegura la propiedad de atomicidad, una transaccion que falle ==no debe tener efecto en la base de datos==. Asi la DB restaura al estado en que estaba antes de que la transaccion en cuestion comenzara su ejecucion. El sistema de DB debe realizar la recuperacion de fallos, osea detectar fallos y restaurar la DB al estado que tenia antes que ocurriera el fallo.
Cuando varias transacciones actualizan la DB concurrentemente, la consistencia puede ser no preservada aunque cada transaccion sea correcta. Es responsabilidad del **gestor de concurrencia** controlar la interaccion entre las transacciones concurrentes para asegurar la consistencia de la DB. los sistemas de DB pequenos pueden no tener todas las caracteristicas vistas, pero para empresa de media a gran escala es necesario cumplir con estos requisitos

## usuarios del SGBD y administradores
hay 4 tipos distintos en un SGBD diferenciados por la forma en que interactuan con el sistema
- **usuarios normales:** interactuan con el sistema mediante la invocacion de alguno de los programas de aplicacion permanentes que se ha escrito previamente. La interfaz de usuario normal para los usuarios normales es una interfaz de formularios, donde el usuario puede rellenar los campos apropiados del formulario 
- **programadores de aplicaciones:** pueden elegir entre muchas herramientas para desarrollar interfaces de usuario. Las herramientas de desarrollo rapido de aplicaciones son herramientas que permiten al programador construir formularios e informes sin escribir un programa, se les llaman lenguajes de cuarta generacion o 4GL
- **usuarios sofisticados** interactua con el sistema sin programas escritos. Ellos forman sus consultas en un lenguaje de consulta de DB. Cada una de estas consultas se envia al procesador de consultas, cuya funcion es transformar intrucciones de lenguaje de manipulacion de daots LMD a instrucciones que el gestor de almacenamiento entienda. Los analistas que envias las consultas para explorar los datos de la DB entran en esta categoria 
- **usuarios especializados**: son usuarios sofisticados que escriben aplicaciones de DB especializadas que no son adecuadas en el marco de procesamiento de datos tradicional. estre estas aplicaciones estan los sistemas de diseno asistido por computador, sistemas de bases de conocimientos y sistemas expertos, etc
- **admin de la DB (DBA)**: una de las principales razones de usar SGBD es tener un control centralizado de tanto los datos como los programas que acceden a estos datos. Un admin tiene los siguientes funciones:
	- definicion del esquema. es el responsable de crear el esquema original de la DB escribiendo un conjunto de instrucciones de deficnicion de datos en el lenguaje de definicion de datos
	- definicion de la estructura y del metodo de acceso
	- modificacion del esquema y de la organizacion fisica. los ABD realizan cambios en el esquema y en la organizacion ficia para reflejar las necesidades cambiantes de la organizacion, o para alterar la organizacion fisica para mejorar el rendimiento
	- concesion de autorizacino para el acceso de datos. La concesion de diferentes tipos de autorizacion permite al admin determinar a que partes de la DB puede acceder cada usuario. La info de autorizacion se mantiene en una estructura del sistema especial que el sistema consulta cuando se intenta el acceso a los datos dle sistema
	- mantenimiento rutinario. Algunas actividades rutinarias son:
		- copia de seguridad periodica
		- asegurar que haya suficiente espacio libre en disco para operaciones normales y aumentar el espacio segun sea necesario
		- supervision de los trabajo que se ejecuten en la DB y asegurar que el rendimiento no se degrada por tareas muy costosas iniciadas por algunos usuarios
![[Pasted image 20250512171915.png]]
la mayoria de usuario de un SGBD se conecta a travez de una red. Se puede diferenciar entonces entre las maquinas cliente, en donde trabajan los usuarios remotos de la base de datos, y las maquinas servidor, en las que se ejecuta el sistema de bases de datos.
![[Pasted image 20250512172038.png]]
en una arquitectura de 2 capas, la aplicacion se divide en un componente que reside en la maquina cliente, que llama a la funcionalidad del sistema de DB en la maquina servidor mediante instrucciones del lenguaje de consultas. Estandares de interfaces de programas de aplicacion como ODBC y JDBC se usan para la interaccion entre el cliente y el servidor
en una arquitectura de 3 capas, la maquina cliente actua simplemente como frontal y no contiene ninguna llamada directa a la BD. En su lugar el cliente se comunica con un servidor de aplicaciones, usualmente mediante una interfaz de formularios. El servidor de aplicaciones, a su vez, se comunica con el sistema de bases de datos para acceder a los datos. La logica de negocio de la aplicacion, que establece las acciones a realizar bajo determinadas condiciones, se incorpora en el servidor de aplicaciones, en lugar de ser distribuida a multiples clientes. las aplicaciones de 3 capas son mas apropiadas para grandes aplicaciones y para aplicaciones que se ejecutan en la web

# terminologia basica
en lenguaje natural, decimos por ej, que una persona ha nacido en 1965, el **dato** (1965) va acompanado de su interpretacion (ano de nacimiento de una persona) para convertir en informacion a dicho dato. De la misma manera cuando se habla de DB se debe diferenciar entre el esquema de la base de datos y el ejemplar de la base de datos que es instantanea en un momento dado